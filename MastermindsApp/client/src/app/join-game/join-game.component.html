<div class="login">
  <h1>Join a Game</h1>
  <hr />
  <div *ngIf="connectionStatus !== 'connected'" class="connection-status">
    <p class="connection-message" [ngClass]="connectionStatus">
      {{ getConnectionMessage() }}
    </p>
    <div *ngIf="connectionStatus === 'server_unavailable'" class="server-info">
      <p>The game server appears to be offline. This could be because:</p>
      <ul>
        <li>The server is temporarily down for maintenance</li>
        <li>
          The free hosting service has put the server to sleep due to inactivity
        </li>
      </ul>
      <p>You can try again later or contact the administrator.</p>
    </div>
    <button
      *ngIf="
        connectionStatus === 'error' ||
        connectionStatus === 'failed' ||
        connectionStatus === 'server_unavailable'
      "
      (click)="retryConnection()"
      class="retry-button"
    >
      Retry Connection
    </button>
  </div>
  <h2>Nickname</h2>
  <input type="text" id="join-game-nickname" (keydown)="resetErrorMessages()" />
  <p class="error-message" id="error-message-nickname">
    The nickname you entered already exists.
  </p>
  <p class="error-message" id="error-message-no-nickname-join">
    The nickname cannot be empty.
  </p>
  <p class="error-message" id="error-message-long-nickname-join">
    The nickname cannot exceed 12 characters.
  </p>
  <h2>Room Code</h2>
  <input type="text" id="room-code" (keydown)="resetErrorMessages()" />
  <p class="error-message" id="error-message-room-code">
    The room code does not exist.
  </p>
  <p class="error-message" id="error-message-max-capacity">
    Max capacity reached.
  </p>
  <p class="error-message" id="error-message-connection-join">
    Unable to connect to the game server. Please try again later.
  </p>
  <button (click)="joinRoom()" [disabled]="connectionStatus !== 'connected'">
    Join
  </button>
</div>
